<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>OpenID Connect - Gluu Docs</title>
      
<link href="../../assets/stylesheets/font.css" rel="stylesheet">
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Gluu Docs">
    <meta property="og:image" content="None/../../gluu.jpg">
    <meta name="apple-mobile-web-app-title" content="Gluu Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../../gluu.jpg">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-60feabe0e5.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-60feabe0e5.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-f58e216493.css">
    
    <link rel="stylesheet" href="../../assets/stylesheets/zenburn-28d5b94970.css">
    
      
      
      
      <link rel="stylesheet" href="https://fonts.lug.ustc.edu.cn/css?family=Noto Sans:400,700|Source+Code+Pro">
      <style>
        body, input {
          font-family: 'Noto Sans', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../../assets/javascripts/modernizr-4a5cc7e01e.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Administration Guide <i class="icon icon-link"></i>
              
            
          </span>
        
        OpenID Connect
      </div>
    </div>
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" placeholder="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">

  
  <a href="https://github.com/GluuFederation/docs" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../gluu.jpg">
        </div>
      
      <div class="name">
        <strong>Gluu Docs</strong><br>
        version: 3.0.0
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      <ul class="repo">
        
        <li class="home">
          <a href="/" title="Home">
            <div class="home-image">
            <i class="fa fa-home"></i> Doc Home</div>
          </a>
        </li>
        
        
        
        <li class="repo-download">
          
          <a href="https://github.com/GluuFederation/docs/archive/3.0.0.zip" target="_blank" title="Download" data-action="download">
            <i class="icon icon-download"></i> Download
          </a>
        </li>
        
      </ul>
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="../..">
      Home
    </a>
    
  </li>
                  
          
            
  <li>
    <span class="section">Installation Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Preparing VM" href="../../installation-guide/">
      Preparing VM
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Install Gluu Server" href="../../installation-guide/install/">
      Install Gluu Server
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Setup Script Options" href="../../installation-guide/setup_py/">
      Setup Script Options
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Cluster with CE" href="../../installation-guide/cluster/">
      Cluster with CE
    </a>
    
  </li>
                  
      
    </ul>
  </li>
                  
          
            
  <li>
    <span class="section">Upgrade/Patch Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Upgrade Gluu Server" href="../../upgrade/">
      Upgrade Gluu Server
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Patch Gluu Server" href="../../upgrade/update/">
      Patch Gluu Server
    </a>
    
  </li>
                  
      
    </ul>
  </li>
                  
          
            
  <li>
    <span class="section">Administration Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Gluu Server UI" href="../">
      Gluu Server UI
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Authentication Protocols" href="../auth-protocol/">
      Authentication Protocols
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Authentication Management" href="../auth-management/">
      Authentication Management
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Configuring Multi-Factor Authentication" href="../multi-factor-auth/">
      Configuring Multi-Factor Authentication
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Manage & Configure Users" href="../user-group/">
      Manage & Configure Users
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Log Management" href="../logs/">
      Log Management
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Configure and Manage OpenID Clients" href="../clients/">
      Configure and Manage OpenID Clients
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Configure and Manage SAML SSO" href="../saml/">
      Configure and Manage SAML SSO
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="OAuth2 Grants" href="../oauth2/">
      OAuth2 Grants
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="current" title="OpenID Connect" href="./">
      OpenID Connect
    </a>
    
      
        
      
      
    
  </li>
                  
      
        
  <li>
    <a class="" title="UMA" href="../uma/">
      UMA
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Attribute Management" href="../attribute/">
      Attribute Management
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="SCIM protected by UMA" href="../scim-uma/">
      SCIM protected by UMA
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Gluu Server APIs" href="../api/">
      Gluu Server APIs
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="SCIM API Configuration" href="../scim/">
      SCIM API Configuration
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Service Integration in Gluu CE" href="../integrate/">
      Service Integration in Gluu CE
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Plugin Integration" href="../plugin/">
      Plugin Integration
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Backup Gluu Server CE" href="../backup/">
      Backup Gluu Server CE
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Custom Script in Gluu CE" href="../custom-script/">
      Custom Script in Gluu CE
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Certificate Management" href="../certificate/">
      Certificate Management
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Fine Tuning Gluu Server" href="../fine-tuning/">
      Fine Tuning Gluu Server
    </a>
    
  </li>
                  
      
        
  <li>
    <a class="" title="Troubleshooting & FAQ" href="../faq/">
      Troubleshooting & FAQ
    </a>
    
  </li>
                  
      
    </ul>
  </li>
                  
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#jargon">Jargon</a></li>
<li><a href="#openid-connect-support-in-the-gluu-server">OpenID Connect Support in the Gluu Server</a><ul>
<li><a href="#openid-connect-authorization-code-flow">OpenID Connect Authorization Code Flow</a></li>
<li><a href="#openid-connect-implicit-flow">OpenID Connect Implicit Flow</a></li>
<li><a href="#discovery">Discovery</a><ul>
<li><a href="#sample-discovery-request">Sample Discovery Request</a></li>
<li><a href="#algorithm">Algorithm</a></li>
</ul>
</li>
<li><a href="#openid-connect-relying-party-registration">OpenID Connect Relying Party Registration</a></li>
<li><a href="#session-management">Session management</a></li>
<li><a href="#testing-with-oxauth-rp">Testing with oxAuth RP</a><ul>
<li><a href="#authorization-endpoint">Authorization Endpoint</a><ul>
<li><a href="#request-authorization-and-receive-the-authorization-code-and-id-token">Request Authorization and receive the Authorization Code and ID Token</a></li>
<li><a href="#request-access-token-using-the-authorization-code">Request Access Token using the Authorization Code</a></li>
<li><a href="#request-new-access-token-using-the-refresh-token">Request new Access Token using the Refresh Token</a></li>
</ul>
</li>
<li><a href="#userinfo-endpoint">UserInfo Endpoint</a></li>
<li><a href="#openid-connect-session-management">OpenID Connect Session Management</a><ul>
<li><a href="#end-session-endpoint">End Session Endpoint</a></li>
<li><a href="#check-session-iframe">Check Session iFrame</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h1>
<p>OpenID Connect is an authentication layer built on OAuth 2.0. OpenID Connect is a specific implementation of OAuth 2.0 where the identity provider holds protected resources that a third-party application needs to access on behalf of a person. OpenID Connect allows relying parties to verify the identity of, and obtain information about a person requesting to access the applications protected resources. </p>
<h1 id="jargon">Jargon<a class="headerlink" href="#jargon" title="Permanent link">#</a></h1>
<p>In OpenID Connect the key entities include:</p>
<ul>
<li>The <em>end user</em> (a.k.a. OAuth 2.0 resource owner) whose user information the application needs to access.</li>
</ul>
<p>The end user wants to login to an application using an existing account at an OpenID Connect identity provider (OP).</p>
<ul>
<li>The <em>Relying Party (RP)</em> (a.k.a. OAuth 2.0 client) needs access to the end user's protected user information.</li>
</ul>
<p>For example, an online chat application needs to know who is accessing the application in order to present the correct user account and contacts. </p>
<ul>
<li>The <em>OpenID Provider (OP)</em> (a.k.a. OAuth 2.0 authorization server and also resource server) that holds the user information and grants access.</li>
</ul>
<p>The Gluu Server is an OpenID Provider. The OP holds information about the user and allows the end user or the organization (depending on configuration) to consent to providing the RP with access to user information. OpenID Connect defines a unique identification for an account (subject identifier + issuer identifier), and the RP can use this as a key to its own user profile. </p>
<p>The relying party can verify claims about the identity of the end user, and log the user out at the end of a session. OpenID Connect also makes it possible to discover the OpenID Provider for an end user, and to register relying party client applications dynamically. OpenID connect services are built on OAuth 2.0, JSON Web Token (JWT), WebFinger and Well-Known URIs.</p>
<h1 id="openid-connect-support-in-the-gluu-server">OpenID Connect Support in the Gluu Server<a class="headerlink" href="#openid-connect-support-in-the-gluu-server" title="Permanent link">#</a></h1>
<p>The Gluu Server is a <a href="http://openid.net/certification/">fully certified OpenID Connect Provider (OP)</a>. As an OpenID Provider, the Gluu Server enables OpenID Connect relying parties (clients) to discover its capabilities, handle both dynamic and static registration of relying parties, respond to relying party requests with authorization codes, access tokens, and user information according to the Authorization Code and Implicit flows of OpenID Connect, and manages sessions.</p>
<h2 id="openid-connect-authorization-code-flow">OpenID Connect Authorization Code Flow<a class="headerlink" href="#openid-connect-authorization-code-flow" title="Permanent link">#</a></h2>
<p>The OpenID Connect Authorization Code Flow specifies how the relying party interacts with the OpenID Provider based on use of the OAuth 2.0 authorization grant. </p>
<h2 id="openid-connect-implicit-flow">OpenID Connect Implicit Flow<a class="headerlink" href="#openid-connect-implicit-flow" title="Permanent link">#</a></h2>
<p>The OpenID Connect Implicit Flow specifies how the relying party interacts with the OpenID Provider based on use of the OAuth 2.0 implicit grant. </p>
<h2 id="discovery">Discovery<a class="headerlink" href="#discovery" title="Permanent link">#</a></h2>
<p>The first thing you want to know about any OAuth 2.0 API is where the
endpoints are (i.e. what are the URIs where you call the APIs).
OpenID Connect provides a very simple mechanism to accomplish this: 
<a href="http://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Connect Discovery</a>.</p>
<p>In order for an OpenID Connect Relying Party to utilize OpenID Connect
services for an End-User, the RP needs to know where the OpenID Provider is.
OpenID Connect uses <a href="http://en.wikipedia.org/wiki/WebFinger">WebFinger</a>
to locate the OpenID Provider for an End-User.</p>
<p>Once the OpenID Provider has been identified, the configuration information
for the OP is retrieved from a well-known location as a JSON document,
including its OAuth 2.0 endpoint locations.</p>
<h3 id="sample-discovery-request">Sample Discovery Request<a class="headerlink" href="#sample-discovery-request" title="Permanent link">#</a></h3>
<p>If you want to try a discovery request, you can make the following
WebFinger request to discover the Issuer location:</p>
<pre><code>GET /.well-known/webfinger?resource=https%3A%2F%2Fidp.gluu.org&amp;rel=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer HTTP/1.1
Host: idp.gluu.org

HTTP/1.1 200
Content-Type: application/jrd+json

{
    &quot;subject&quot;: &quot;https://idp.gluu.org&quot;,
    &quot;links&quot;: [{
        &quot;rel&quot;: &quot;http://openid.net/specs/connect/1.0/issuer&quot;,
        &quot;href&quot;: &quot;https://idp.gluu.org&quot;
    }]
}
</code></pre>

<p>Using the Issuer location discovered, the OpenID Provider's configuration information can be retrieved.</p>
<p>The RP makes the following request to the Issuer <code>https://&lt;domain&gt;/.well-known/openid-configuration</code> to obtain its
Configuration information:</p>
<pre><code>GET /.well-known/openid-configuration HTTP/1.1
Host: idp.gluu.org

HTTP/1.1 200
Content-Type: application/json

{
    &quot;issuer&quot;: &quot;https://idp.gluu.org&quot;,
    &quot;authorization_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/authorize&quot;,
    &quot;token_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/token&quot;,
    &quot;userinfo_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/userinfo&quot;,
    &quot;clientinfo_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/clientinfo&quot;,
    &quot;check_session_iframe&quot;: &quot;https://idp.gluu.org/oxauth/opiframe&quot;,
    &quot;end_session_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/end_session&quot;,
    &quot;jwks_uri&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/jwks&quot;,
    &quot;registration_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/register&quot;,
    &quot;validate_token_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/validate&quot;,
    &quot;federation_metadata_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/federationmetadata&quot;,
    &quot;federation_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/oxauth/federation&quot;,
    &quot;id_generation_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/id&quot;,
    &quot;introspection_endpoint&quot;: &quot;https://idp.gluu.org/oxauth/seam/resource/restv1/introspection&quot;,
    &quot;scopes_supported&quot;: [
        &quot;clientinfo&quot;,
        &quot;email&quot;,
        &quot;openid&quot;,
        &quot;profile&quot;,
        &quot;address&quot;,
        &quot;uma_protection&quot;,
        &quot;user_name&quot;,
        &quot;uma_authorization&quot;,
        &quot;mobile_phone&quot;,
        &quot;phone&quot;
    ],
    &quot;response_types_supported&quot;: [
        &quot;code&quot;,
        &quot;code id_token&quot;,
        &quot;token&quot;,
        &quot;token id_token&quot;,
        &quot;code token&quot;,
        &quot;code token id_token&quot;,
        &quot;id_token&quot;
    ],
    &quot;grant_types_supported&quot;: [
        &quot;authorization_code&quot;,
        &quot;implicit&quot;,
        &quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;
    ],
    &quot;acr_values_supported&quot;: [&quot;&quot;u2f&quot;, &quot;duo&quot;, &quot;basic&quot;, &quot;mt&quot;, &quot;oxpush2&quot;, &quot;gplus&quot;, &quot;internal&quot;],
    &quot;auth_level_mapping&quot;: {&quot;-1&quot;: [[&quot;internal&quot;]]},
    &quot;subject_types_supported&quot;: [
        &quot;public&quot;,
        &quot;pairwise&quot;
    ],
    &quot;userinfo_signing_alg_values_supported&quot;: [
        &quot;HS256&quot;, &quot;HS384&quot;, &quot;HS512&quot;,
        &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;,
        &quot;ES256&quot;, &quot;ES384&quot;, &quot;ES512&quot;
    ],
    &quot;userinfo_encryption_alg_values_supported&quot;: [
        &quot;RSA1_5&quot;, &quot;RSA-OAEP&quot;,
        &quot;A128KW&quot;, &quot;A256KW&quot;
    ],
    &quot;userinfo_encryption_enc_values_supported&quot;: [
        &quot;RSA1_5&quot;, &quot;RSA-OAEP&quot;,
        &quot;A128KW&quot;, &quot;A256KW&quot;
    ],
    &quot;id_token_signing_alg_values_supported&quot;: [
        &quot;HS256&quot;, &quot;HS384&quot;, &quot;HS512&quot;,
        &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;,
        &quot;ES256&quot;, &quot;ES384&quot;, &quot;ES512&quot;
    ],
    &quot;id_token_encryption_alg_values_supported&quot;: [
        &quot;RSA1_5&quot;, &quot;RSA-OAEP&quot;,
        &quot;A128KW&quot;, &quot;A256KW&quot;
    ],
    &quot;id_token_encryption_enc_values_supported&quot;: [
        &quot;A128CBC+HS256&quot;, &quot;A256CBC+HS512&quot;,
        &quot;A128GCM&quot;, &quot;A256GCM&quot;
    ],
    &quot;request_object_signing_alg_values_supported&quot;: [
        &quot;none&quot;,
        &quot;HS256&quot;, &quot;HS384&quot;, &quot;HS512&quot;,
        &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;,
        &quot;ES256&quot;, &quot;ES384&quot;, &quot;ES512&quot;
    ],
    &quot;request_object_encryption_alg_values_supported&quot;: [
        &quot;RSA1_5&quot;, &quot;RSA-OAEP&quot;,
        &quot;A128KW&quot;, &quot;A256KW&quot;
    ],
    &quot;request_object_encryption_enc_values_supported&quot;: [
        &quot;A128CBC+HS256&quot;, &quot;A256CBC+HS512&quot;,
        &quot;A128GCM&quot;, &quot;A256GCM&quot;
    ],
    &quot;token_endpoint_auth_methods_supported&quot;: [
        &quot;client_secret_basic&quot;,
        &quot;client_secret_post&quot;,
        &quot;client_secret_jwt&quot;,
        &quot;private_key_jwt&quot;
    ],
    &quot;token_endpoint_auth_signing_alg_values_supported&quot;: [
        &quot;HS256&quot;, &quot;HS384&quot;, &quot;HS512&quot;,
        &quot;RS256&quot;, &quot;RS384&quot;, &quot;RS512&quot;,
        &quot;ES256&quot;, &quot;ES384&quot;, &quot;ES512&quot;
    ],
    &quot;display_values_supported&quot;: [
        &quot;page&quot;,
        &quot;popup&quot;
    ],
    &quot;claim_types_supported&quot;: [&quot;normal&quot;],
    &quot;claims_supported&quot;: [
        &quot;birthdate&quot;,
        &quot;country&quot;,
        &quot;name&quot;,
        &quot;email&quot;,
        &quot;email_verified&quot;,
        &quot;given_name&quot;,
        &quot;gender&quot;,
        &quot;inum&quot;,
        &quot;family_name&quot;,
        &quot;updated_at&quot;,
        &quot;locale&quot;,
        &quot;middle_name&quot;,
        &quot;nickname&quot;,
        &quot;phone_number_verified&quot;,
        &quot;picture&quot;,
        &quot;preferred_username&quot;,
        &quot;profile&quot;,
        &quot;zoneinfo&quot;,
        &quot;user_name&quot;,
        &quot;website&quot;
    ],
    &quot;service_documentation&quot;: &quot;http://gluu.org/docs&quot;,
    &quot;claims_locales_supported&quot;: [&quot;en&quot;],
    &quot;ui_locales_supported&quot;: [
        &quot;en&quot;, &quot;es&quot;
    ],
    &quot;scope_to_claims_mapping&quot;: [
        {&quot;clientinfo&quot;: [
            &quot;name&quot;,
            &quot;inum&quot;
        ]},
        {&quot;email&quot;: [
            &quot;email_verified&quot;,
            &quot;email&quot;
        ]},
        {&quot;openid&quot;: [&quot;inum&quot;]},
        {&quot;profile&quot;: [
            &quot;name&quot;,
            &quot;family_name&quot;,
            &quot;given_name&quot;,
            &quot;middle_name&quot;,
            &quot;nickname&quot;,
            &quot;preferred_username&quot;,
            &quot;profile&quot;,
            &quot;picture&quot;,
            &quot;website&quot;,
            &quot;gender&quot;,
            &quot;birthdate&quot;,
            &quot;zoneinfo&quot;,
            &quot;locale&quot;,
            &quot;updated_at&quot;
        ]},
        {&quot;address&quot;: [
            &quot;formatted&quot;,
            &quot;postal_code&quot;,
            &quot;street_address&quot;,
            &quot;locality&quot;,
            &quot;country&quot;,
            &quot;region&quot;
        ]},
        {&quot;uma_protection&quot;: []},
        {&quot;user_name&quot;: [&quot;user_name&quot;]},
        {&quot;uma_authorization&quot;: []},
        {&quot;mobile_phone&quot;: [&quot;phone_mobile_number&quot;]},
        {&quot;phone&quot;: [
            &quot;phone_number_verified&quot;,
            &quot;phone_number&quot;
        ]}
    ],
    &quot;claims_parameter_supported&quot;: true,
    &quot;request_parameter_supported&quot;: true,
    &quot;request_uri_parameter_supported&quot;: true,
    &quot;require_request_uri_registration&quot;: false,
    &quot;op_policy_uri&quot;: &quot;http://ox.gluu.org/doku.php?id=oxauth:policy&quot;,
    &quot;op_tos_uri&quot;: &quot;http://ox.gluu.org/doku.php?id=oxauth:tos&quot;,
    &quot;http_logout_supported&quot;: &quot;true&quot;,
    &quot;logout_session_supported&quot;: &quot;true&quot;
}
</code></pre>

<p>The following is an example using the <a href="https://ox.gluu.org/maven/org/xdi/oxauth-client/">oxAuth-Client</a> lib:</p>
<pre><code>String resource = &quot;acct:mike@idp.gluu.org&quot;;

OpenIdConnectDiscoveryClient openIdConnectDiscoveryClient = new OpenIdConnectDiscoveryClient(resource);
OpenIdConnectDiscoveryResponse openIdConnectDiscoveryResponse = openIdConnectDiscoveryClient.exec();

.....

OpenIdConfigurationClient client = new OpenIdConfigurationClient(configurationEndpoint);
OpenIdConfigurationResponse response = client.execOpenIdConfiguration();
</code></pre>

<p>See <a href="https://github.com/GluuFederation/oxAuth/blob/master/Client/src/test/java/org/xdi/oxauth/ws/rs/ConfigurationRestWebServiceHttpTest.java">org.xdi.oxauth.ws.rs.ConfigurationRestWebServiceHttpTest</a></p>
<h3 id="algorithm">Algorithm<a class="headerlink" href="#algorithm" title="Permanent link">#</a></h3>
<p>oxAuth supports various types of signature and encryption
algorithms for authorizing request parameter passing, ID token signature
and encryption, signing return responses, Encrypt User Info Endpoints
etc.</p>
<p><strong>Note:</strong> It is a good practice to implement ID Token Signatures with the RSA
SHA-256 algorithm (algorithm value RS256). Additionally, oxAuth also
supports other algorithms that are listed below.</p>
<p><em>Available Signature Algorithms:</em> none, HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512.</p>
<p><em>Encryption, Key Encryption Algorithms:</em> RSA1_5, RSA-OAEP, A128KW, A256KW.</p>
<p><em>Block Encryption Algorithms:</em> A128CBC+HS256, A256CBC+HS612, A128GCM, A256GCM,</p>
<h2 id="openid-connect-relying-party-registration">OpenID Connect Relying Party Registration<a class="headerlink" href="#openid-connect-relying-party-registration" title="Permanent link">#</a></h2>
<p>Relying parties can register with the Gluu Server both statically, by the Gluu Server admin, and dynamically, as specified by OpenID Connect Discovery. To allow dynamic registration, you register an initial OAuth 2.0 client that other relying parties can use to get access tokens for registration. You can also enable OpenID Connect relying parties to register dynamically without having to provide an access token. If dynamic registration is enabled, make sure to limit or throttle registrations as it could be used as a form of DDOS.</p>
<h2 id="session-management">Session management<a class="headerlink" href="#session-management" title="Permanent link">#</a></h2>
<p>OpenID Connect lets the relying party track whether the end user is logged in at the provider, and also initiate end user logout at the provider. The specification has the relying party monitor session state using an invisible iframe and communicate status using the HTML 5 postMessage API.</p>
<p>However, be forewarned that there is no perfect answer to logout that
satisfies all requirements for all domains on the Internet. For
example, large OpenID Providers, like Google, need a totally stateless
implementation--Google cannot track sessions on the server side for
every browser on the Internet. But in smaller domains, server side
logout functionality can be a convenient solution to cleaning up
resources.</p>
<p>The OpenID Connect <a href="http://openid.net/specs/openid-connect-session-1_0.html">Session
Management</a> is
still marked as draft, and new mechanisms for logout are in the works.
The current specification requires JavaScript to detect that the session
has been ended in the browser. It works... unless the tab with the
JavaScript happens to be closed when the logout event happens on another
tab. Also, inserting JavaScript into every page is not feasible for some
applications. A new proposal is under discussion where the OpenID
Connect logout API would return <code>IMG</code> HTML tags to the browser with the
logout callbacks of the clients. This way, the browser could call the
logout uris (not the server).</p>
<p>The Gluu Server is very flexible, and supports both server side session
management, and stateless session management. For server side
logout, the domain admin can use <a href="../custom-script/#application-session-management">Custom Logout scripts</a>. This can be
useful to clean up sessions in a legacy SSO system (i.e. SiteMinder), or
perhaps in a portal.</p>
<p>The key for logout is to understand the limitations of logout, and to
test the use cases that are important to you, so you will not be
surprised by the behavior when you put your application into production.</p>
<h2 id="testing-with-oxauth-rp">Testing with oxAuth RP<a class="headerlink" href="#testing-with-oxauth-rp" title="Permanent link">#</a></h2>
<ul>
<li>Go to https://seed.gluu.org/oxauth-rp</li>
<li>Or deploy <code>oxAuth-rp.war</code></li>
</ul>
<h3 id="authorization-endpoint">Authorization Endpoint<a class="headerlink" href="#authorization-endpoint" title="Permanent link">#</a></h3>
<h4 id="request-authorization-and-receive-the-authorization-code-and-id-token">Request Authorization and receive the Authorization Code and ID Token<a class="headerlink" href="#request-authorization-and-receive-the-authorization-code-and-id-token" title="Permanent link">#</a></h4>
<ul>
<li>Go to https://seed.gluu.org/oxauth-rp</li>
<li>Enter the Authorization Endpoint (eg: https://seed.gluu.org/oxauth/seam/resource/restv1/oxauth/authorize)</li>
<li>Select the Response Types: CODE and ID_TOKEN</li>
<li>Enter the Client ID (eg: @!EDFB.879F.2DAE.D95A!0001!0442.B31E!0008!A2DA.C10F)</li>
<li>Select the desired scopes: OpenID is mandatory, profile, address,
    email and phone are optional.</li>
<li>Enter a Redirect uri, e.g. https://seed.gluu.org/oxauth-rp/home.seam</li>
<li>Optionally enter a state value.</li>
<li>Click submit.</li>
</ul>
<p><img alt="" src="../../img/admin-guide/openid/requestauthorizationcodegrant.png" title="Screenshot of oxAuth-RP Authorization Endpoint" /></p>
<h4 id="request-access-token-using-the-authorization-code">Request Access Token using the Authorization Code<a class="headerlink" href="#request-access-token-using-the-authorization-code" title="Permanent link">#</a></h4>
<ul>
<li>Once redirected back to https://seed.gluu.org/oxauth-rp</li>
<li>Enter the Token Endpoint (eg: https://seed.gluu.org/oxauth/seam/resource/restv1/oxauth/token)</li>
<li>Select the Grant Type: AUTHORIZATION_CODE</li>
<li>Enter the Client ID.</li>
<li>Enter the Client Secret.</li>
<li>Enter the Code received from the previous request</li>
<li>Enter the Redirect uri, e.g. https://seed.gluu.org/oxauth-rp/home.seam</li>
<li>Enter the scopes: OpenID profile address email phone.</li>
<li>Click submit.</li>
</ul>
<p><img alt="" src="../../img/admin-guide/openid/requestaccesstokenwithauthorizationcode.png" title="Screenshot of oxAuth-RP Token Endpoint" /></p>
<h4 id="request-new-access-token-using-the-refresh-token">Request new Access Token using the Refresh Token<a class="headerlink" href="#request-new-access-token-using-the-refresh-token" title="Permanent link">#</a></h4>
<ul>
<li>Go to https://seed.gluu.org/oxauth-rp</li>
<li>Enter the Token Endpoint (https://seed.gluu.org/oxauth/seam/resource/restv1/oxauth/token)</li>
<li>Select the Grant Type: REFRESH_TOKEN</li>
<li>Enter the Client ID.</li>
<li>Enter the Client Secret.</li>
<li>Enter the Refresh Token received in a previous request.</li>
<li>Click submit.</li>
</ul>
<p><img alt="" src="../../img/admin-guide/openid/refreshtoken.png" title="Screenshot of oxAuth-RP Refresh Token" /></p>
<h3 id="userinfo-endpoint">UserInfo Endpoint<a class="headerlink" href="#userinfo-endpoint" title="Permanent link">#</a></h3>
<p><img alt="" src="../../img/admin-guide/openid/userinfoendpoint.png" title="Screenshot of oxAuth-RP User Info Endpoint" /></p>
<h3 id="openid-connect-session-management">OpenID Connect Session Management<a class="headerlink" href="#openid-connect-session-management" title="Permanent link">#</a></h3>
<h4 id="end-session-endpoint">End Session Endpoint<a class="headerlink" href="#end-session-endpoint" title="Permanent link">#</a></h4>
<p><img alt="" src="../../img/admin-guide/openid/endsession.png" title="Screenshot of oxAuth-RP End Session Endpoint" /></p>
<h4 id="check-session-iframe">Check Session iFrame<a class="headerlink" href="#check-session-iframe" title="Permanent link">#</a></h4>
<p><img alt="" src="../../img/admin-guide/openid/checksession.png" title="Screenshot of oxAuth-RP Check Session iFrame" /></p>
          <aside class="copyright" role="note">
           Built with 
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a> using
            <a href="http://gitlab.testbird.io:8099/frontend/testbird-mkdocs-theme.git" target="_blank">
              testBird-mkdocs-theme
            </a> <br>
            
            Copyright &copy; 2016, Gluu, Inc.
            
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../oauth2/" title="OAuth2 Grants">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                OAuth2 Grants
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../uma/" title="UMA">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                UMA
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = '';
    </script>
    <script src="../../assets/javascripts/application-ce3999cf34.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    
  </body>
</html>